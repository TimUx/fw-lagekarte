# Benutzerhandbuch - FW Lagekarte

## Ãœbersicht

Die FW Lagekarte ist eine Desktop-Anwendung zur Verwaltung von Feuerwehr-Einsatzlagen. Sie ermÃ¶glicht die Visualisierung von Standorten und Fahrzeugen auf einer interaktiven Karte.

![Hauptansicht der Anwendung](assets/screenshots/hauptansicht.png)

*Die Hauptansicht zeigt die Seitenleiste mit Fahrzeugen (gruppiert nach Standorten mit taktischen Zeichen) und die interaktive Karte.*

## Erste Schritte

### Installation
1. Laden Sie die Anwendung herunter und installieren Sie sie
2. Starten Sie die Anwendung - die Karte wird mit einer Standardansicht von Deutschland geladen

### Grundfunktionen

#### 1. Feuerwehr-Standorte verwalten

**Standort hinzufÃ¼gen:**

![Standort hinzufÃ¼gen Dialog](assets/screenshots/standort-dialog.png)

1. Klicken Sie mit der **rechten Maustaste** auf die gewÃ¼nschte Position auf der Karte
2. WÃ¤hlen Sie "ğŸ¢ Standort hier hinzufÃ¼gen" aus dem KontextmenÃ¼
3. Geben Sie den Namen des Standorts ein (z.B. "Feuerwache Nord")
4. Optional: Geben Sie die Adresse ein
5. Die Koordinaten werden automatisch ausgefÃ¼llt (kÃ¶nnen auch manuell angepasst werden)
6. Klicken Sie auf "Speichern"

**Alternative Methode:**
1. Klicken Sie auf den Button "â• Standort hinzufÃ¼gen"
2. Geben Sie den Namen und die Adresse ein
3. Geben Sie die Koordinaten manuell ein oder verwenden Sie Rechtsklick auf der Karte
4. Klicken Sie auf "Speichern"

**Standort bearbeiten:**
1. Klicken Sie auf das Standort-Symbol auf der Karte
2. Klicken Sie im Popup auf "âœï¸ Bearbeiten"
3. Nehmen Sie Ihre Ã„nderungen vor
4. Klicken Sie auf "Speichern"

**Standort lÃ¶schen:**
1. Klicken Sie auf das Standort-Symbol auf der Karte
2. Klicken Sie im Popup auf "ğŸ—‘ï¸ LÃ¶schen"
3. BestÃ¤tigen Sie die LÃ¶schung

#### 2. Fahrzeuge verwalten

**Fahrzeug hinzufÃ¼gen:**

![Fahrzeug hinzufÃ¼gen Dialog](assets/screenshots/fahrzeug-dialog.png)

1. Klicken Sie auf den Button "â• Fahrzeug hinzufÃ¼gen"
2. Geben Sie den Rufnamen ein (z.B. "Florian Hamburg 1/44/1")
3. WÃ¤hlen Sie den Fahrzeugtyp aus der Liste:
   - **Einsatzleitung:** ELW
   - **LÃ¶schfahrzeuge:** HLF, LF, StLF, TLF, TSF, TSF-W
   - **RÃ¼st- und GerÃ¤tewagen:** GW-L1, GW-L2, RW
   - **Mannschaft und Transport:** MTF, MTW
   - **Hubrettungsfahrzeuge:** DLK
   - **Rettungsfahrzeuge:** KTW, NEF, RTW
4. Geben Sie die Besatzung ein (z.B. "1/8" fÃ¼r einen Trupp mit 8 Personen)
5. Optional: WÃ¤hlen Sie eine zugeordnete Station aus
6. Optional: FÃ¼gen Sie Notizen hinzu
7. Klicken Sie auf "Speichern"

**Fahrzeug bearbeiten:**
1. Klicken Sie auf das "âœï¸" Symbol in der Fahrzeugkarte in der Seitenleiste
2. Nehmen Sie Ihre Ã„nderungen vor
3. Klicken Sie auf "Speichern"

**Fahrzeug lÃ¶schen:**
1. Klicken Sie auf das "ğŸ—‘ï¸" Symbol in der Fahrzeugkarte in der Seitenleiste
2. BestÃ¤tigen Sie die LÃ¶schung

#### 3. Fahrzeuge im Einsatz einsetzen

**Fahrzeug auf der Karte platzieren:**
1. Ziehen Sie ein Fahrzeug aus der linken Seitenleiste mit der Maus
2. Lassen Sie es an der gewÃ¼nschten Position auf der Karte fallen (Drag & Drop)
3. Das Fahrzeug wird nun auf der Karte angezeigt
4. Eingesetzte Fahrzeuge werden in der Seitenleiste grÃ¼n markiert

**Fahrzeug auf der Karte verschieben:**
1. Klicken und halten Sie das Fahrzeug-Symbol auf der Karte
2. Ziehen Sie es zur neuen Position
3. Lassen Sie die Maustaste los

**Fahrzeug-Informationen anzeigen:**
1. Klicken Sie auf das Fahrzeug-Symbol auf der Karte
2. Ein Popup zeigt Rufname, Typ, Besatzung und Notizen an

**Fahrzeug zurÃ¼ckrufen:**
1. Klicken Sie auf das Fahrzeug-Symbol auf der Karte
2. Klicken Sie im Popup auf "â†©ï¸ ZurÃ¼ckrufen"
3. Das Fahrzeug erscheint wieder in der Seitenleiste

#### 4. Kartenansicht anpassen

**Karte navigieren:**
- Zoomen: Mausrad oder +/- Buttons auf der Karte
- Verschieben: Karte mit der Maus ziehen

**Kartenansicht speichern:**
1. Passen Sie die Karte an (Zoom und Position)
2. Klicken Sie auf "ğŸ’¾ Kartenansicht speichern"
3. Die Ansicht wird gespeichert und beim nÃ¤chsten Start wiederhergestellt

## Tipps und Tricks

1. **Schnelle Orientierung:** Verwenden Sie aussagekrÃ¤ftige Rufnamen fÃ¼r Fahrzeuge (z.B. nach dem Florian-System)

2. **Ãœbersicht behalten:** Nutzen Sie unterschiedliche Fahrzeugtypen, um verschiedene Ressourcen zu unterscheiden

3. **Standorte nutzen:** Ordnen Sie Fahrzeuge den Standorten zu, um die Zuordnung zu erleichtern

4. **BesatzungsstÃ¤rke:** Notieren Sie die Besatzung im Format "FÃ¼hrer/Mannschaft" (z.B. "1/8")

5. **Notizen:** Nutzen Sie das Notizen-Feld fÃ¼r wichtige Informationen wie AusrÃ¼stung oder besondere FÃ¤higkeiten

## Erweiterte Funktionen

### Karten-Layer wechseln

Die Anwendung bietet verschiedene Kartenansichten:

1. **OpenStreetMap** (Standard) - Detaillierte StraÃŸenkarte
2. **Satellit (Esri)** - Satellitenaufnahmen fÃ¼r reale GelÃ¤ndeansicht
3. **Topographisch (OpenTopoMap)** - Topographische Karte mit HÃ¶henlinien
4. **Hybrid** - Satellitenbilder mit StraÃŸenbeschriftung

**Layer wechseln:**
1. Klicken Sie auf das Layer-Symbol (Rechteck-Icon) oben rechts auf der Karte
2. WÃ¤hlen Sie den gewÃ¼nschten Karten-Layer aus
3. Die Auswahl wird automatisch gespeichert und beim nÃ¤chsten Start wiederhergestellt

### Lagekarte drucken

Drucken Sie eine professionelle Ãœbersicht der aktuellen Lage:

1. Klicken Sie auf "ğŸ–¨ï¸ Karte drucken" in der oberen Leiste
2. Ein Druckdialog Ã¶ffnet sich mit:
   - Der aktuellen Kartenansicht
   - Liste der im Einsatz befindlichen Fahrzeuge
   - Liste der verfÃ¼gbaren Fahrzeuge
   - Liste aller Standorte
   - Zeitstempel der Erstellung
3. WÃ¤hlen Sie Ihren Drucker und Druckeinstellungen
4. Optional: Speichern Sie als PDF fÃ¼r digitale Archivierung

**Tipp:** Stellen Sie vor dem Drucken sicher, dass die Karte den gewÃ¼nschten Bereich zeigt und alle relevanten Fahrzeuge sichtbar sind.

### Netzwerk-Synchronisation (Multi-User)

Arbeiten Sie gemeinsam mit mehreren Benutzern an derselben Lagekarte in Echtzeit.

**Voraussetzungen:**
- Ein WebSocket-Server muss eingerichtet und erreichbar sein
- Alle Benutzer mÃ¼ssen sich mit demselben Server verbinden

**Synchronisation einrichten:**
1. Klicken Sie auf "ğŸ”„ Synchronisation" in der oberen Leiste
2. Aktivieren Sie "Synchronisation aktivieren"
3. Geben Sie die Server-URL ein (z.B. `ws://192.168.1.100:8080` oder `wss://sync-server.example.com`)
4. Klicken Sie auf "Speichern"
5. Der Verbindungsstatus wird in der oberen Leiste angezeigt:
   - ğŸŸ¢ **Synchronisation aktiv** - Verbunden und synchronisiert
   - ğŸŸ¡ **Verbinde...** - Verbindung wird hergestellt
   - âš« **Nicht verbunden** - Offline oder Server nicht erreichbar
   - ğŸ”´ **Verbindungsfehler** - Verbindung fehlgeschlagen

**Was wird synchronisiert:**
- Alle Standorte (HinzufÃ¼gen, Bearbeiten, LÃ¶schen)
- Alle Fahrzeuge (HinzufÃ¼gen, Bearbeiten, LÃ¶schen)
- Fahrzeugpositionen (Verschieben auf der Karte)
- Einsatzstatus (VerfÃ¼gbar/Im Einsatz)

**Wichtig:** Die Synchronisation ist optional. Die Anwendung funktioniert auch ohne Synchronisation im Einzelplatz-Modus vollstÃ¤ndig offline.

**Hinweis fÃ¼r Administratoren:** Ein WebSocket-Server muss separat eingerichtet werden. Die Anwendung enthÃ¤lt nur den Client-Teil der Synchronisation.

## Offline-Nutzung

Die Anwendung ist auf allen Betriebssystemen offline-fÃ¤hig:
- Alle Daten werden lokal auf Ihrem Computer gespeichert
- Kartenkacheln werden beim ersten Betrachten im Cache gespeichert
- Bereiche, die Sie bereits angesehen haben, sind auch offline verfÃ¼gbar
- FÃ¼r neue Bereiche ist eine Internetverbindung erforderlich

Die Anwendung lÃ¤uft auf:
- âœ… **Windows** - als native Windows-Anwendung
- âœ… **Linux** - als AppImage oder .deb Paket
- âœ… **macOS** - als native Mac-Anwendung

## Datenspeicherung

- Alle Daten werden lokal im Browser-Speicher (IndexedDB) gespeichert
- Die Daten bleiben auch nach Neustart der Anwendung erhalten
- Keine Daten werden an externe Server Ã¼bertragen
- Die Daten befinden sich im Electron-User-Data-Verzeichnis

## Fehlerbehebung

**Die Karte lÃ¤dt nicht:**
- ÃœberprÃ¼fen Sie Ihre Internetverbindung (nur beim ersten Laden erforderlich)
- Starten Sie die Anwendung neu

**Fahrzeuge lassen sich nicht verschieben:**
- Stellen Sie sicher, dass Sie das Fahrzeug aus der Seitenleiste ziehen
- Versuchen Sie, die Anwendung neu zu starten

**Ã„nderungen werden nicht gespeichert:**
- Klicken Sie immer auf "Speichern" in den Formularen
- ÃœberprÃ¼fen Sie, ob ausreichend Speicherplatz vorhanden ist

## Tastenkombinationen

- **Ctrl + Plus (+):** Karte hineinzoomen
- **Ctrl + Minus (-):** Karte herauszoomen
- **ESC:** Aktuelle Aktion abbrechen / Modal schlieÃŸen

## Support

Bei Fragen oder Problemen wenden Sie sich bitte an den Repository-Maintainer oder erstellen Sie ein Issue auf GitHub.
